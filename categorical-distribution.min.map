{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","counters","order","sampleSimple","j","cumulativeSum","result","countersSum","sampleOrdered","rands","cat","r","NotAnArrayException","name","message","ACD","memorySize","forgetEmptyCategories","this","Infinity","create","param1","param2","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","each","iterator","context","len","map","results","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","print","precision","probs","maxCatStrLen","toFixed","learn","unlearn","pop","newMemorySize","delta","ceil","newValue","dumpedData","version","module"],"mappings":"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"}