{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","clone","obj","copy","constructor","attr","hasOwnProperty","util","CategoricalDistribution","exports","NotAnArrayException","this","name","message","InvalidDumpException","InvalidDistributionException","InvalidWeightException","OverflowException","prob","weight","weightSum","learn","cd","cat","oldW","newW","oldWSum","newWSum","st","state","wSum","w","order","indices","Number","MAX_VALUE","sortOne","category","c","backwards","isLast","isFirst","tempCat","sampleSimple","j","maxSum","cumulativeSum","result","sampleOrdered","rands","r","CatDist","create","cats","single","head","slice","peak","tolerance","headLikelihood","minLikelihood","subset","categories","sub","subW","subWSum","subOrder","subIndices","rank","Infinity","entropy","ent","p","log","each","iterator","context","pr","len","map","results","sample","isOrdered","manyCategories","numCategories","dump","load","print","precision","probs","maxCatStrLen","toFixed","unlearn","dist","newDistribution","distr","newOrder","newIndices","isNaN","sort","a","b","dumpedData","s","extension","version","module"],"mappings":"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"}