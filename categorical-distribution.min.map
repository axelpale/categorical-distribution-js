{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","counters","order","sampleSimple","j","cumulativeSum","result","countersSum","sampleOrdered","rands","cat","r","NotAnArrayException","name","message","ACD","memorySize","this","Infinity","create","param","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","each","iterator","context","len","map","results","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","print","precision","probs","maxCatStrLen","toFixed","learn","unlearn","pop","newMemorySize","delta","ceil","dumpedData","version","module"],"mappings":"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"}