{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","clone","obj","copy","constructor","attr","hasOwnProperty","util","CategoricalDistribution","exports","EXAMPLE","NotAnArrayException","this","name","message","InvalidDumpException","InvalidDistributionException","InvalidWeightException","OverflowException","prob","weight","weightSum","learn","cd","cat","oldW","newW","oldWSum","newWSum","st","state","wSum","w","order","indices","Number","MAX_VALUE","sortOne","category","c","backwards","isLast","isFirst","tempCat","sampleSimple","j","maxSum","cumulativeSum","result","sampleOrdered","rands","r","CatDist","create","cats","single","head","slice","peak","tolerance","headLikelihood","minLikelihood","subset","categories","sub","subW","subWSum","subOrder","subIndices","rank","Infinity","each","iterator","context","pr","len","map","results","sample","isOrdered","manyCategories","numCategories","dump","load","print","precision","probs","maxCatStrLen","toFixed","unlearn","dist","newDistribution","distr","newOrder","newIndices","isNaN","sort","a","b","dumpedData","s","extension","version","module"],"mappings":"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"}