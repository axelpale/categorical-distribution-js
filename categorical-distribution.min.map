{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","weights","order","forgetBy","len","newWeightsSum","ratio","cat","weightsSum","sampleSimple","j","cumulativeSum","result","sampleOrdered","rands","r","NotAnArrayException","name","message","ACD","memorySize","this","Infinity","create","param1","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","each","iterator","context","map","results","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","print","precision","probs","maxCatStrLen","toFixed","learn","unlearn","newWeight","delta","newMemorySize","dumpedData","extension","version","module"],"mappings":";;;;;;;CAMA,SAAWA,GACT,YAIA,IAAIC,MASFC,EAAU,SAAUC,GACtB,MAAyD,mBAAlDC,OAAOC,UAAUC,SAASC,KAAKJ,IAGpCK,EAAU,SAAUC,GAMtB,MAAqB,gBAAVA,IAAuC,gBAAVA,IAC9BA,GAGNP,EAAQO,GACHA,MAKPC,EAAqB,SAAUC,EAAKC,GAGtC,MAAOC,MAAKC,UAAYF,EAAMD,GAAOA,GAGnCI,EAA+B,SAAUC,EAAGL,EAAKC,GAOnD,GAAIK,GACAC,EACAC,EACAC,IAKJ,IAHiB,gBAANJ,KACTA,EAAI,GAEE,EAAJA,EACF,MAAOI,EAUT,KAHAA,EAAEC,KAAK,EAAIR,KAAKS,IAAIT,KAAKC,SAAU,EAAIE,IAGlCC,EAAI,EAAOD,EAAJC,EAAOA,GAAK,EACtBC,EAAOE,EAAEA,EAAEG,OAAS,GACpBJ,EAAa,EAAIN,KAAKS,IAAIT,KAAKC,SAAU,GAAKE,EAAIC,IAClDG,EAAEC,KAAKH,GAAQ,EAAIA,GAAQC,EAI7B,KAAKF,EAAI,EAAOD,EAAJC,EAAOA,GAAK,EACtBG,EAAEH,GAAKN,GAAOC,EAAMD,GAAOS,EAAEH,EAG/B,OAAOG,IAGLI,EAAU,SAAUC,GAOtB,IAHA,GAA4BC,GAAMC,EAA9BC,EAAUH,EAAMF,OAGbK,EAAU,GAEfD,EAAQd,KAAKgB,MAAMhB,KAAKC,SAAWc,GAGnCA,GAAW,EAGXF,EAAOD,EAAMG,GACbH,EAAMG,GAAWH,EAAME,GACvBF,EAAME,GAASD,CAGjB,OAAOD,GAITxB,GAAS6B,MACP5B,QAASA,EACTM,QAASA,EACTE,mBAAoBA,EACpBK,6BAA8BA,GA4DhCd,EAAS8B,wBAA2B,WAClC,GAAIC,MAQAC,EAAU,SAAUC,EAAKC,GAO3B,GAAIC,GAAGnB,EAAGoB,EAAGC,EAAWC,EAAQC,EAASC,CAwBzC,IAtBAL,EAAIF,EAAIQ,MACRzB,EAAImB,EAAEO,QAAQR,GACdE,EAAID,EAAEQ,QAAQT,GAGdI,EAAUtB,IAAMmB,EAAES,MAAMtB,OAAS,EACjCiB,EAAiB,IAANvB,EAETqB,EADEC,GACU,EACHC,GACG,EAGRJ,EAAEQ,QAAQR,EAAES,MAAM5B,EAAI,IAAMoB,GAClB,GAEA,EAOd,KAAa,IAANpB,GAAWmB,EAAEQ,QAAQR,EAAES,MAAM5B,EAAI,KAAOoB,GAE7CI,EAAUL,EAAES,MAAM5B,EAAI,GACtBmB,EAAES,MAAM5B,GAAKwB,EACbL,EAAES,MAAM5B,EAAI,GAAKkB,EACjBC,EAAEO,QAAQF,GAAWxB,EACrBA,GAAK,MAGP,MAAOA,IAAMmB,EAAES,MAAMtB,OAAS,GAAKa,EAAEQ,QAAQR,EAAES,MAAM5B,EAAI,IAAMoB,GAE7DI,EAAUL,EAAES,MAAM5B,EAAI,GACtBmB,EAAES,MAAM5B,GAAKwB,EACbL,EAAES,MAAM5B,EAAI,GAAKkB,EACjBC,EAAEO,QAAQF,GAAWxB,EACrBA,GAAK,CAKTmB,GAAEO,QAAQR,GAAYlB,GAIpB6B,EAAW,SAAUZ,EAAKlB,GAI5B,GAAIoB,GAAGW,EAAKC,EAAeC,EAAOhC,EAAGiC,CAOrC,KALAd,EAAIF,EAAIQ,MACRK,EAAMX,EAAES,MAAMtB,OACdyB,EAAgBnC,KAAKD,IAAI,EAAGwB,EAAEe,WAAanC,GAC3CiC,EAAQD,EAAgBZ,EAAEe,WAErBlC,EAAI,EAAO8B,EAAJ9B,EAASA,GAAK,EACxBiC,EAAMd,EAAES,MAAM5B,GACdmB,EAAEQ,QAAQM,IAAQD,CAGpBb,GAAEe,WAAaH,GAIbI,EAAe,SAAUlB,EAAKlB,GAIhC,GAAII,GAAGH,EAAGoC,EAAGC,EACTC,KACAnB,EAAIF,EAAIQ,KAEZ,IAAuB,IAAnBN,EAAES,MAAMtB,QAAqB,GAALP,EAC1B,MAAOuC,EAGT,KAAKtC,EAAI,EAAOD,EAAJC,EAAOA,GAAK,EAGtB,IAFAG,EAAIV,EAAmB,EAAG0B,EAAEe,YAC5BG,EAAgB,EACXD,EAAI,EAAGA,EAAIjB,EAAES,MAAMtB,OAAQ8B,GAAK,EAKnC,GADAC,GAAiBlB,EAAEQ,QAAQR,EAAES,MAAMQ,IAC3BC,EAAJlC,EAAmB,CACrBmC,EAAOlC,KAAKe,EAAES,MAAMQ,GACpB,OAKN,MAAOE,IAILC,EAAgB,SAAUtB,EAAKlB,GAQjC,GAAIyC,GAAOP,EAAKI,EAAerC,EAAGyC,EAC9BH,KACAnB,EAAIF,EAAIQ,KAEZ,IAAuB,IAAnBN,EAAES,MAAMtB,QAAqB,GAALP,EAC1B,MAAOuC,EAQT,KALAE,EAAQ1C,EAA6BC,EAAG,EAAGoB,EAAEe,YAE7CD,EAAM,EACNI,EAAgBlB,EAAEQ,QAAQR,EAAES,MAAMK,IAE7BjC,EAAI,EAAOD,EAAJC,EAAOA,GAAK,EAItB,GAHAyC,EAAID,EAAMxC,GAGFqC,EAAJI,EACFH,EAAOlC,KAAKe,EAAES,MAAMK,QACf,CACL,EAIEA,IAAO,EACPI,GAAiBlB,EAAEQ,QAAQR,EAAES,MAAMK,UACXQ,GAAjBJ,EAETC,GAAOlC,KAAKe,EAAES,MAAMK,IAKxB,MAAOK,IAULI,GACFC,KAAM,sBACNC,QAAS,wCAUPC,EAAM,SAAUC,GAMlBC,KAAKtB,OACHE,WACAO,WAAY,EACZY,WAAYE,IACZpB,SACAF,YAGFqB,KAAKD,WAAWA,GA2gBlB,OAxgBA/B,GAAQkC,OAAS,SAAUC,GACzB,MAAO,IAAIL,GAAIK,IAUjBL,EAAIzD,UAAU+D,KAAO,SAAUC,GAK7B,GACIpD,GAAGqD,EAAIC,EADPhB,KAEAnB,EAAI4B,KAAKtB,KAEb,IAAsB,gBAAX2B,GACT,KAAMV,EAKR,KAJ6B,mBAAXU,KAChBA,EAASjC,EAAES,OAGR5B,EAAI,EAAGA,EAAIoD,EAAO9C,OAAQN,GAAK,EAClCqD,EAAKD,EAAOpD,GACRmB,EAAEQ,QAAQ4B,eAAeF,IAC3BC,EAAInC,EAAEQ,QAAQ0B,GAAMlC,EAAEe,WACtBI,EAAOlC,KAAKkD,IAEZhB,EAAOlC,KAAK,EAIhB,OAAOkC,IAITO,EAAIzD,UAAUoE,KAAO,SAAUzD,GAS7B,GAAIoB,GAAI4B,KAAKtB,KAMb,OALiB,gBAAN1B,KACTA,EAAI,GAGNA,EAAIH,KAAKF,IAAIK,EAAGoB,EAAES,MAAMtB,QACpBP,EAAI,EACCoB,EAAES,MAAM6B,MAAM,EAAG1D,GAEhB,IAANA,EACKoB,EAAES,MAAM6B,MAAM,OAMzBZ,EAAIzD,UAAUsE,KAAO,SAAUC,GAW7B,GAAI3D,GAAG4D,EAAgBC,EACnB1C,EAAI4B,KAAKtB,KAEb,IAAuB,IAAnBN,EAAES,MAAMtB,OACV,QAMF,KAHAsD,EAAiBzC,EAAEQ,QAAQR,EAAES,MAAM,IACnCiC,EAAgBD,EAAiBA,EAAiBD,EAE7C3D,EAAI,EAAGA,EAAImB,EAAES,MAAMtB,UAClBuD,EAAgB1C,EAAEQ,QAAQR,EAAES,MAAM5B,KADRA,GAAK,GAOrC,MAAOmB,GAAES,MAAM6B,MAAM,EAAEzD,IAIzB6C,EAAIzD,UAAU0E,OAAS,SAAUC,GAc/B,GAAI/D,GAAGiC,EAEHhB,EAAK+C,EADL7C,EAAI4B,KAAKtB,KAOb,KAJAR,EAAM,GAAI4B,GAAI1B,EAAE2B,YAChBkB,EAAO/C,EAAIQ,MAGNzB,EAAI,EAAGA,EAAI+D,EAAWzD,OAAQN,GAAK,EACtCiC,EAAM8B,EAAW/D,GACbmB,EAAEQ,QAAQ4B,eAAetB,KAC3B+B,EAAKrC,QAAQM,GAAOd,EAAEQ,QAAQM,GAC9B+B,EAAK9B,YAAcf,EAAEQ,QAAQM,GAKjC,KAAKjC,EAAI,EAAGA,EAAImB,EAAES,MAAMtB,OAAQN,GAAK,EACnCiC,EAAMd,EAAES,MAAM5B,GACVgE,EAAKrC,QAAQ4B,eAAetB,KAC9B+B,EAAKpC,MAAMxB,KAAK6B,GAChB+B,EAAKtC,QAAQO,GAAO+B,EAAKpC,MAAMtB,OAAS,EAI5C,OAAOW,IAIT4B,EAAIzD,UAAU6E,KAAO,SAAUb,GAM7B,GACIpD,GAAGqD,EADHf,KAEAnB,EAAI4B,KAAKtB,KAEb,IAAsB,gBAAX2B,GACT,KAAMV,EAKR,KAJ6B,mBAAXU,KAChBA,EAASjC,EAAES,OAGR5B,EAAI,EAAGA,EAAIoD,EAAO9C,OAAQN,GAAK,EAClCqD,EAAKD,EAAOpD,GAEVsC,EAAOlC,KADLe,EAAEO,QAAQ6B,eAAeF,GACflC,EAAEO,QAAQ2B,GAEVL,IAIhB,OAAOV,IAITO,EAAIzD,UAAU8E,KAAO,SAAUC,EAAUC,GAavC,GAAIpE,GAAGiC,EAAKkB,EAAMzC,EACdS,EAAI4B,KAAKtB,MACTK,EAAMX,EAAES,MAAMtB,MAClB,KAAKN,EAAI,EAAO8B,EAAJ9B,EAASA,GAAK,EACxBiC,EAAMd,EAAES,MAAM5B,GACdmD,EAAOhC,EAAEQ,QAAQM,GAAOd,EAAEe,WAC1BxB,EAAQS,EAAEO,QAAQO,GAClBkC,EAAS7E,KAAK8E,EAASnC,EAAKkB,EAAMzC,EAEpC,OAAOqC,OAITF,EAAIzD,UAAUiF,IAAM,SAAUF,EAAUC,GActC,GAAIE,KAIJ,OAHAvB,MAAKmB,KAAK,SAAUjC,EAAKkB,EAAMc,GAC7BK,EAAQlE,KAAK+D,EAAS7E,KAAK8E,EAASnC,EAAKkB,EAAMc,MAE1CK,GAITzB,EAAIzD,UAAUmF,OAAS,SAAUxE,EAAGyE,GAgBlC,GAAIC,GAAgBhC,EAChBtB,EAAI4B,KAAKtB,KAkBb,OAfiB,gBAAN1B,KAAkBA,EAAI,GACR,iBAAdyE,KAA2BA,GAAY,GAG9CA,EACF/B,EAAIF,EAAcQ,KAAMhD,IAGxB0E,EAAiBtD,EAAES,MAAMtB,OAAS,GAEhCmC,EADEgC,EACElE,EAAQgC,EAAcQ,KAAMhD,IAE5BoC,EAAaY,KAAMhD,IAGpB0C,GAITI,EAAIzD,UAAUsF,KAAO,WAInB,MAAO3B,MAAKtB,MAAMS,YAIpBW,EAAIzD,UAAUuF,cAAgB,WAE5B,MAAO5B,MAAKtB,MAAMG,MAAMtB,QAI1BuC,EAAIzD,UAAUwF,KAAO,WAGnB,GAAI5E,GAAGiC,EAAK4C,EACR1D,EAAI4B,KAAKtB,MACTqD,IAGJ,KAAK9E,EAAI,EAAGA,EAAImB,EAAES,MAAMtB,OAAQN,GAAK,EACnCiC,EAAMd,EAAES,MAAM5B,GACd6E,EAAQ1D,EAAEQ,QAAQM,GAClB6C,EAAE1E,KAAK6B,GACP6C,EAAE1E,KAAKyE,EAWT,OALEC,GAAE1E,KADiB4C,MAAjB7B,EAAE2B,WACG,KAEA3B,EAAE2B,YAGJgC,GAITjC,EAAIzD,UAAU2F,KAAO,WAEnB,GAAI3D,GAAI,GAAIyB,EAEZ,OADAzB,GAAE4D,KAAKjC,KAAK6B,QACLxD,GAITyB,EAAIzD,UAAU6F,MAAQ,SAAUC,GAM9B,GACIlF,GAAGiC,EAAKkB,EAAMgC,EACd/C,EAFAjB,EAAI4B,KAAKtB,MAEN2D,EAAe,EAClBtD,EAAMX,EAAES,MAAMtB,OACdgC,EAAS,EAYb,KAVyB,gBAAd4C,KACTA,EAAY,GAIdA,EAAYtF,KAAKD,IAAIC,KAAKF,IAAIwF,EAAW,IAAK,GAE9CC,EAAQpC,KAAKI,KAAKhC,EAAES,OAGf5B,EAAI,EAAO8B,EAAJ9B,EAASA,GAAK,EACxBiC,EAAMd,EAAES,MAAM5B,GACdoF,EAAexF,KAAKD,IAAIyF,EAAcnD,EAAI3B,OAG5C,KAAKN,EAAI,EAAO8B,EAAJ9B,EAASA,GAAK,EAAG,CAK3B,IAJAiC,EAAMd,EAAES,MAAM5B,GACdmD,EAAOgC,EAAMnF,GAGRoC,EAAIH,EAAI3B,OAAY8E,EAAJhD,EAAkBA,GAAK,EAC1CH,GAAY,GAGdK,IAAUL,EAAM,IAAMkB,EAAKkC,QAAQH,GAAa,KAGlD,MAAO5C,IAWTO,EAAIzD,UAAUkG,MAAQ,SAAUlC,GAS9B,GAAIpD,GAAGqD,EACHlC,EAAI4B,KAAKtB,KAIb,IAAqB,IAAjBN,EAAE2B,WACJ,MAAOC,KAIT,KAAK/C,EAAI,EAAGA,EAAIoD,EAAO9C,OAAQN,GAAK,EAE9BmB,EAAEe,WAAa,EAAIf,EAAE2B,YAIvBjB,EAASkB,KAAM,GAGjBM,EAAKD,EAAOpD,GACRmB,EAAEQ,QAAQ4B,eAAeF,GAC3BlC,EAAEQ,QAAQ0B,IAAO,GAEjBlC,EAAEQ,QAAQ0B,GAAM,EAChBlC,EAAES,MAAMxB,KAAKiD,GACblC,EAAEO,QAAQ2B,GAAMlC,EAAES,MAAMtB,OAAS,GAInCa,EAAEe,YAAc,EAGhBlB,EAAQ+B,KAAMM,EAGhB,OAAON,OAITF,EAAIzD,UAAUmG,QAAU,SAAUnC,GAQhC,GAAIjC,GAAGnB,EAAGiC,EAAKuD,EAAWC,CAI1B,KAFAtE,EAAI4B,KAAKtB,MAEJzB,EAAI,EAAGA,EAAIoD,EAAO9C,OAAQN,GAAK,EAClCiC,EAAMmB,EAAOpD,GAETmB,EAAEQ,QAAQ4B,eAAetB,IACvBd,EAAEQ,QAAQM,GAAO,IAGnBuD,EAAY5F,KAAKD,IAAI,EAAGwB,EAAEQ,QAAQM,GAAO,GACzCwD,EAAQD,EAAYrE,EAAEQ,QAAQM,GAC9Bd,EAAEQ,QAAQM,GAAOuD,EAGjBrE,EAAEe,YAAcuD,EAGhBzE,EAAQ+B,KAAMd,GAOpB,OAAOc,OAITF,EAAIzD,UAAU0D,WAAa,SAAU4C,GAEnC,GAAIvE,GAAGsE,CAGP,OAFAtE,GAAI4B,KAAKtB,MAEoB,mBAAlBiE,GACFvE,EAAE2B,YAGkB,gBAAlB4C,KACTA,EAAgB1C,KAIlB0C,EAAgB9F,KAAKD,IAAI,EAAG+F,GAE5BD,EAAQtE,EAAEe,WAAawD,EAGnBD,EAAQ,GAEV5D,EAASkB,KAAM0C,QAIjBtE,EAAE2B,WAAa4C,KAIjB7C,EAAIzD,UAAU4F,KAAO,SAAUW,GAQ7B,GAAI3F,GAAGiC,EAAK4C,EAAO1D,CAYnB,KATAA,GACEQ,WACAO,WAAY,EACZY,WAAYE,IACZpB,SACAF,YAIG1B,EAAI,EAAGA,EAAI2F,EAAWrF,OAAS,EAAGN,GAAK,EAC1CiC,EAAM0D,EAAW3F,GACjB6E,EAAQc,EAAW3F,EAAI,GACvBmB,EAAEQ,QAAQM,GAAO4C,EACjB1D,EAAEe,YAAc2C,EAChB1D,EAAES,MAAMxB,KAAK6B,GACbd,EAAEO,QAAQO,GAAOd,EAAES,MAAMtB,OAAS,CAUpC,OAPAyC,MAAKtB,MAAQN,EAKb4B,KAAKD,WAAW6C,EAAW3F,IAEpB+C,MASThC,EAAQ6E,UAAY/C,EAAIzD,UAKjB2B,KAMP/B,EAAS6G,QAAU,QAInB7G,EAAS8B,wBAAwBD,KAAO7B,EAAS6B,KAG5B,gBAAXiF,SAAiD,gBAAnBA,QAAO/E,QAG7C+E,OAAO/E,QAAU/B,EAAS8B,wBAG1B/B,EAAO+B,wBAA0B9B,EAAS8B,yBAE3CiC"}