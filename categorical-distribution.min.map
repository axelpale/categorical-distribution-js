{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","counters","order","sampleSimple","j","cumulativeSum","result","countersSum","sampleOrdered","rands","cat","r","ACD","maxSize","this","create","param","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","Infinity","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","learn","unlearn","pop","newMaxSize","delta","ceil","dumpedData","version","module"],"mappings":"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"}