{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","counters","order","sampleSimple","j","cumulativeSum","result","countersSum","sampleOrdered","rands","cat","r","NotAnArrayException","name","message","ACD","maxSize","this","create","param","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","Infinity","each","iterator","context","len","map","results","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","print","precision","probs","maxCatStrLen","toFixed","learn","unlearn","pop","newMaxSize","delta","ceil","dumpedData","version","module"],"mappings":"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"}