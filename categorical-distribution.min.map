{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","clone","obj","copy","constructor","attr","hasOwnProperty","util","CategoricalDistribution","exports","NotAnArrayException","this","name","message","InvalidDumpException","InvalidDistributionException","InvalidWeightException","OverflowException","prob","weight","weightSum","learn","cd","cat","oldW","newW","oldWSum","newWSum","st","state","wSum","w","order","indices","Number","MAX_VALUE","sortOne","category","c","backwards","isLast","isFirst","tempCat","sampleSimple","j","maxSum","cumulativeSum","result","sampleOrdered","rands","r","CatDist","create","cats","single","mode","slice","head","peak","tolerance","headLikelihood","minLikelihood","subset","categories","sub","subW","subWSum","subOrder","subIndices","rank","Infinity","entropy","ent","p","log","each","iterator","context","pr","len","map","results","sample","isOrdered","manyCategories","numCategories","dump","load","print","precision","probs","maxCatStrLen","toFixed","unlearn","dist","newDistribution","distr","newOrder","newIndices","isNaN","sort","a","b","dumpedData","s","extension","version","module"],"mappings":"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"}