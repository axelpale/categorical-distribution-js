{"version":3,"file":"categorical-distribution.min.js","sources":["categorical-distribution.js"],"names":["window","myModule","isArray","possibleArray","Object","prototype","toString","call","toArray","value","randomFromInterval","min","max","Math","random","randomOrderedSetFromInterval","n","i","prev","normalized","x","push","pow","length","shuffle","array","temp","index","counter","floor","util","CategoricalDistribution","exports","sortOne","acd","category","s","c","backwards","isLast","isFirst","tempCat","state","indices","weights","order","multiplyWeights","multiplier","len","cat","weightsSum","sampleSimple","j","cumulativeSum","result","sampleOrdered","rands","r","NotAnArrayException","this","name","message","InvalidDumpException","ACD","learningRate","eventWeight","create","param1","prob","events","ev","p","hasOwnProperty","head","slice","peak","deviationTolerance","headLikelihood","minLikelihood","subset","categories","acds","rank","Infinity","each","iterator","context","map","results","sample","isOrdered","manyCategories","size","numCategories","dump","count","d","copy","load","print","precision","probs","maxCatStrLen","toFixed","learn","nextEventWeight","Number","MAX_VALUE","unlearn","newWeight","delta","newLearningRate","dumpedData","rate","weight","extension","version","module"],"mappings":"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"}